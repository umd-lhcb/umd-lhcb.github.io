language: ruby

rvm: 2.6.5

cache: bundler

branches:
    only:
        build

before_install:
    - gem update --system
    - gem install bundler

install: bundle install

script:
    - jekyll build

deploy:
    provider: pages
    skip_cleanup: true
    keep_history: true
    github_token: $GITHUB_TOKEN
    on:
        branch: build
    target_branch: master
    local_dir: _site
